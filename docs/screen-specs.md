# 画面仕様書

## 1. 画面構成概要

### 1.1 画面一覧
- **ホーム画面**（スレッド一覧画面）- `/`
- **スレッド詳細画面** - `/thread/[id]`
- **スレッド作成・編集モーダル**
- **投稿作成・編集モーダル**

### 1.2 共通デザイン要素
- **テーマ**: Material-UI Light テーマ
- **主要カラー**: ブルー系（#1565c0, #42a5f5）
- **背景**: グラデーション（#e3f2fd → #bbdefb → #90caf9）
- **カード**: 半透明の白背景（blur効果あり）
- **フォント**: システムデフォルトフォント

## 2. 画面詳細仕様

### 2.1 ホーム画面（/）

#### 2.1.1 レイアウト構成
- **ヘッダー領域**
  - アプリタイトル: "💬 掲示板"
  - サブタイトル: "スレッドを作成して、みんなで議論しよう！"

#### 2.1.2 カテゴリータブ
- **配置**: ヘッダー下部
- **形式**: 横スクロール可能なタブ
- **カテゴリー一覧**:
  - 全て、一般、政治、経済、テクノロジー
  - スポーツ、エンターテイメント、趣味、質問、その他
- **機能**: タブクリックでスレッドフィルタリング

#### 2.1.3 スレッド一覧
- **ソート順**: 更新日時降順（最新が上）
- **表示項目（各スレッドカード）**:
  - スレッドタイトル（リンク付き）
  - カテゴリーチップ
  - 説明文
  - メタ情報
    - 投稿数（フォーラムアイコン付き）
    - 作成者名（ユーザーアイコン付き）
    - 更新日時（時計アイコン付き）
  - 作成者の場合のみ：編集・削除メニューボタン

#### 2.1.4 インタラクション要素
- **FAB（Floating Action Button）**
  - 位置: 右下固定
  - アイコン: プラスアイコン
  - 機能: スレッド作成モーダルを開く

#### 2.1.5 空状態
- **表示条件**: スレッドが存在しない場合
- **表示内容**: "まだスレッドがありません" + "最初のスレッドを作成してみましょう！"

#### 2.1.6 エラー・成功通知
- **Snackbar形式**: 画面下部から表示
- **自動非表示**: 6秒後
- **種類**: 成功（緑）、エラー（赤）

### 2.2 スレッド詳細画面（/thread/[id]）

#### 2.2.1 ナビゲーション
- **戻るボタン**
  - 位置: 画面上部左
  - アイコン: 左矢印アイコン
  - テキスト: "スレッド一覧に戻る"
  - 機能: ホーム画面に戻る

#### 2.2.2 スレッド情報カード
- **スレッドタイトル**: 大見出し（h4）
- **カテゴリーチップ**: 右上に配置
- **編集メニュー**: 作成者の場合のみ表示（三点リーダーアイコン）
- **説明文**: タイトル下に表示
- **メタ情報**:
  - 投稿数（フォーラムアイコン付き）
  - 作成者名
  - 作成日時（日本語フォーマット）

#### 2.2.3 投稿一覧
- **ソート順**: 作成日時昇順（古いものから順に表示）
- **表示項目（各投稿カード）**:
  - 投稿番号: "1. [タイトル]"形式
  - 投稿タイトル
  - 作成者名（右上）
  - 編集メニュー（作成者の場合のみ）
  - 投稿内容（改行保持）
  - 作成日時

#### 2.2.4 空状態
- **表示条件**: 投稿が存在しない場合
- **表示内容**: "まだ投稿がありません" + "最初の投稿をしてみましょう！"

#### 2.2.5 インタラクション要素
- **FAB（Floating Action Button）**
  - 位置: 右下固定
  - アイコン: プラスアイコン
  - 機能: 投稿作成モーダルを開く

#### 2.2.6 ローディング状態
- **表示**: CircularProgress（中央配置）
- **表示条件**: データ取得中

#### 2.2.7 エラー状態
- **表示条件**: スレッドが見つからない場合
- **表示内容**: "スレッドが見つかりません"（エラーアラート）

### 2.3 スレッド作成・編集モーダル

#### 2.3.1 モーダル構成
- **タイトル**: 
  - 作成時: "新しいスレッドを作成"
  - 編集時: "スレッドを編集"
- **サイズ**: 最大幅sm、フルワイズ

#### 2.3.2 フォーム項目
1. **スレッドタイトル**
   - 種類: テキストフィールド（必須）
   - 最大文字数: 100文字
   - 文字カウンター表示
   - オートフォーカス

2. **説明**
   - 種類: 複数行テキストフィールド（必須）
   - 行数: 3行
   - 最大文字数: 300文字
   - 文字カウンター表示

3. **作成者名**
   - 種類: テキストフィールド（任意）
   - プレースホルダー: "作成者名（匿名の場合は空欄）"
   - 最大文字数: 50文字

4. **カテゴリー**
   - 種類: セレクト（必須）
   - 選択肢: 固定カテゴリー一覧

#### 2.3.3 アクションボタン
- **キャンセル**: モーダルを閉じる
- **作成/更新**: フォーム送信（無効状態管理あり）

#### 2.3.4 バリデーション
- **リアルタイム**: 必須項目未入力時はボタン無効化
- **送信時**: トリム処理、空白チェック

### 2.4 投稿作成・編集モーダル

#### 2.4.1 モーダル構成
- **タイトル**:
  - 作成時: "新しい投稿"
  - 編集時: "投稿を編集"
- **サイズ**: 最大幅sm、フルワイズ

#### 2.4.2 フォーム項目
1. **タイトル**
   - 種類: テキストフィールド
   - 必須性: スレッド詳細画面では任意
   - ラベル: "タイトル（省略可）"

2. **名前**
   - 種類: テキストフィールド（任意）
   - 表示条件: showAuthor = true の場合のみ
   - プレースホルダー: "名前（匿名の場合は空欄）"
   - 最大文字数: 50文字

3. **内容**
   - 種類: 複数行テキストフィールド（必須）
   - 行数: 4行
   - 最大文字数: 500文字
   - 文字カウンター表示（500超過時は赤色）

#### 2.4.3 アクションボタン
- **キャンセル**: モーダルを閉じる（フォーム初期化）
- **投稿/更新**: フォーム送信（無効状態管理あり）

#### 2.4.4 バリデーション
- **リアルタイム**: 内容必須、文字数制限チェック
- **送信時**: トリム処理、デフォルト値設定

### 2.5 コンテキストメニュー

#### 2.5.1 スレッド編集メニュー
- **表示条件**: 作成者 === 現在のユーザー
- **メニュー項目**:
  - 編集（鉛筆アイコン）
  - 削除（削除アイコン、赤色）

#### 2.5.2 投稿編集メニュー
- **表示条件**: 作成者 === 現在のユーザー
- **メニュー項目**:
  - 編集（鉛筆アイコン）
  - 削除（削除アイコン、赤色）

#### 2.5.3 確認ダイアログ
- **削除時**: ブラウザネイティブのconfirmダイアログ
- **スレッド削除**: "このスレッドを削除しますか？関連する投稿も全て削除されます。"
- **投稿削除**: "この投稿を削除しますか？"

## 3. レスポンシブデザイン

### 3.1 ブレークポイント
- **デスクトップ**: 1024px以上
- **タブレット**: 768px - 1023px
- **モバイル**: 767px以下

### 3.2 モバイル対応
- **コンテナ**: 最大幅md（768px）で中央配置
- **余白**: 適切なパディング調整
- **タップ**: 44px以上のタップターゲット
- **テキスト**: 読みやすいフォントサイズ

### 3.3 タブレット対応
- **レイアウト**: デスクトップとモバイルの中間
- **タッチ**: タッチインタラクションに最適化

## 4. アニメーション・トランジション

### 4.1 ホバー効果
- **カード**: マウスオーバー時にtranslateY(-2px)とシャドウ強化
- **ボタン**: 色変化とスケール効果

### 4.2 ページ遷移
- **Next.js**: 標準的なページ遷移
- **モーダル**: フェードイン・アウト

### 4.3 フィードバック
- **Snackbar**: 下からスライドイン
- **ローディング**: 回転アニメーション

## 5. アクセシビリティ

### 5.1 キーボードナビゲーション
- **Tab順**: 論理的な順序
- **Enter/Space**: ボタン・リンクの実行

### 5.2 スクリーンリーダー対応
- **alt属性**: 意味のある画像に設定
- **aria-label**: 必要な箇所に設定
- **data-testid**: テスト用ID付与

### 5.3 カラーコントラスト
- **テキスト**: 十分なコントラスト比確保
- **エラー**: 色以外の識別方法も提供

## 6. パフォーマンス考慮事項

### 6.1 画像最適化
- **アイコン**: SVGまたはアイコンフォント使用
- **背景**: CSS Gradient使用

### 6.2 レンダリング最適化
- **React**: メモ化、適切な依存配列
- **Material-UI**: 必要なコンポーネントのみインポート